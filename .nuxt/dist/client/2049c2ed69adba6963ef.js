(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{228:function(t,o,e){var content=e(453);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(17).default)("97704eec",content,!0,{sourceMap:!1})},452:function(t,o,e){"use strict";var r=e(228);e.n(r).a},453:function(t,o,e){(t.exports=e(16)(!1)).push([t.i,"[data-v-3513645a]:root{--text-color:red}.book-slider-layout[data-v-3513645a]{padding:15px;background:#2d2d2d}.book-layout[data-v-3513645a]{margin-top:40px;width:38px;height:38px;cursor:pointer;position:relative;z-index:1}.book-layout .book-icon-layout[data-v-3513645a]{line-height:38px;width:100%;height:100%;text-align:center;border-radius:50%;background:#fff;overflow:hidden;position:relative}.book-layout .iconfont[data-v-3513645a]{font-size:26px}.book-layout .book-list-layout[data-v-3513645a]{max-width:300px;padding:7px 20px;background:#2d2d2d;position:absolute;left:100%;top:0;transition:.3s;-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:0 15px;transform-origin:0 15px}.book-layout .book-list-layout .book-list-item-layout[data-v-3513645a]{color:#fff;text-align:center}.book-layout .book-list-layout .book-list-item-layout .icon[data-v-3513645a]{width:25px;height:25px;line-height:22px;border:1px solid #fff;border-radius:50%}.book-layout .book-list-layout .book-list-item-layout .icon .iconfont[data-v-3513645a]{font-size:16px}.book-layout .book-list-layout .book-list-item-layout .book-name[data-v-3513645a]{font-size:12px;margin-left:10px}.book-layout .book-list-layout .book-list-item-layout[data-v-3513645a]:not(:last-child){margin-bottom:10px}.book-layout .book-list-layout .book-list-item-layout.act .icon[data-v-3513645a]{border:1px solid #398dee;background:#398dee}.show-book-list:hover .book-list-layout[data-v-3513645a]{-webkit-transform:scale(1);transform:scale(1)}.book-layout.act[data-v-3513645a]{-webkit-transform:scale(1.2);transform:scale(1.2)}.book-layout.act .book-icon-layout[data-v-3513645a]{background:#398dee}.book-layout.act .book-icon-layout .iconfont[data-v-3513645a]{color:#fff}.book-layout[data-v-3513645a]:not(:last-child){margin-bottom:10px}.catalog-layout[data-v-3513645a]{padding:15px 2px;overflow:auto;background:#2d2d2d;color:#919191;width:200px;max-width:200px;transition:.3s}.hidden-catalog[data-v-3513645a]{padding:15px 0;max-width:0;overflow:hidden}",""])},458:function(t,o,e){"use strict";e.r(o);e(11),e(84),e(18);var r=e(2),n=(e(115),e(6)),c=e(21),l=e(4),d=e(3),f=e(114),h=e(212),k=e(233),m=e(234),x=e(213),v=e(23),y={components:{TreeItem:h.a,NoteBrief:k.a,noteDes:m.a,articleFixed:x.a},data:function(){return{createToCatalogId:""}},computed:Object(n.a)({},Object(c.e)({schemaList:function(t){return t.schema.list},noteList:function(t){return t.notes.list},curBook:function(t){return t.books.curBook},curNote:function(t){return t.notes.curNote},showDir:function(t){return t.config.showDir},curCatalog:function(t){return t.catalogs.curCatalog}}),Object(c.c)("catalogs",["treeChainList"]),{curNoteList:function(){return this.curCatalog&&this.noteList&&this.curBook&&this.noteList[this.curBook+"_"+this.curCatalog]||[]},curEditNote:function(){var t=this,o=this.curNoteList.find(function(o){return o._id===t.curNote});return o||{_id:"new"}}}),methods:Object(n.a)({},Object(c.d)("catalogs",[l.CATALOGS_CUR_SAVE]),Object(c.d)("notes",[l.NOTE_CUR_UPDATE]),Object(c.b)("books",[d.BOOK_LIST_GET]),Object(c.b)("notes",[d.NOTES_RECENTLY_GET,d.NOTES_GET]),Object(c.b)("catalogs",[d.CATALOGS_GET]),{getNoteData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Promise.all([this[d.BOOK_LIST_GET](),this[d.CATALOGS_GET]({parentId:"root",bookId:this.curBook})]).then(function(){o[d.NOTES_RECENTLY_GET]()}).catch(function(t){console.log("err",t),o.$alert({title:"getBookData",content:t.message})});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),chooseCurNote:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(o){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this[l.NOTE_CUR_UPDATE](o._id);case 1:case"end":return t.stop()}},t,this)}));return function(o){return t.apply(this,arguments)}}(),toCreateNote:function(t){this.createToCatalogId=t.catalogId,this.chooseCurNote({_id:"new"})},doUpdateNote:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var o,e,r,n=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.length>0&&void 0!==n[0]?n[0]:{},e=o.id,r=o.force,this.curCatalog!==v.a.recentlyArticlesKey){t.next=7;break}return t.next=5,this[d.NOTES_RECENTLY_GET]({force:r});case 5:t.next=9;break;case 7:return t.next=9,this[d.NOTES_GET]({force:r});case 9:e&&this.chooseCurNote({_id:e});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),init:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var o=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.getNoteData(),f.a.$on("emitToCreateArticle",function(t){o.toCreateNote(t)}),f.a.$on("emitFromCatalog",function(t){t.isNew?o.toCreateNote({catalogId:t.catalogId}):o.doUpdateNote(t)}),f.a.$on("updateCurBooks",function(){o[l.CATALOGS_CUR_SAVE](v.a.recentlyArticlesKey),o.getNoteData()});case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),mounted:function(){this.init()}},N=(e(452),e(8)),component=Object(N.a)(y,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"flex flex-1"},[e("div",{staticClass:"catalog-layout box-shadow",class:{"hidden-catalog":!t.showDir}},[e("TreeItem")],1),t._v(" "),e("NoteBrief",{attrs:{list:t.curNoteList},on:{emitToChooseCurNote:t.chooseCurNote,emitToCreateNote:t.toCreateNote,emitUpdateNote:t.doUpdateNote}}),t._v(" "),e("note-des",{attrs:{curNote:t.curEditNote,createToCatalogId:t.createToCatalogId},on:{emitUpdateNote:t.doUpdateNote}}),t._v(" "),e("articleFixed")],1)},[],!1,null,"3513645a",null);o.default=component.exports}}]);