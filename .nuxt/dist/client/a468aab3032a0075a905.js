(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{269:function(t,o,e){var content=e(309);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(12).default)("b0a00e54",content,!0,{sourceMap:!1})},308:function(t,o,e){"use strict";var n=e(269);e.n(n).a},309:function(t,o,e){(t.exports=e(11)(!1)).push([t.i,'[data-v-417054e4]:root{--text-color:red}.book-list-layout[data-v-417054e4]{padding:20px}.book-item-layout[data-v-417054e4]{padding:10px;border-radius:5px;border:1px solid #e1e4e8;display:inline-block;margin-right:20px;text-align:center;font-size:17px;position:relative;vertical-align:top;height:110px;margin-bottom:20px}.book-item-layout .book-item-layout-edit[data-v-417054e4]{position:absolute;width:100%;height:30px;line-height:30px;text-align:center;font-size:14px;bottom:0;left:0;cursor:pointer;overflow:hidden}.book-item-layout .book-item-layout-edit .book-item-layout-in-edit[data-v-417054e4]{height:100%;background:rgba(0,0,0,.5);color:#fff;transform:translateY(100%);transition:.2s}.book-item-layout.act[data-v-417054e4]{border:1px solid #398dee}.book-item-layout:hover .book-item-layout-in-edit[data-v-417054e4]{transform:translateY(0)}.book-item-layout:hover .book-item-delete[data-v-417054e4]{display:block}.book-iconfont[data-v-417054e4]{font-size:60px}.book-item-delete[data-v-417054e4]{right:-5px;top:-5px;position:absolute;display:none}.book-item-layout-add[data-v-417054e4]{position:absolute;width:100%;height:100%;left:0;top:0;background:rgba(0,0,0,.3);color:#fff;padding-top:25px;cursor:pointer}.book-item-layout-add[data-v-417054e4]:after{width:50px;height:4px}.book-item-layout-add[data-v-417054e4]:after,.book-item-layout-add[data-v-417054e4]:before{content:"";position:absolute;background:#fff;top:50%;left:50%;border-radius:2px;transform:translate(-50%,-50%)}.book-item-layout-add[data-v-417054e4]:before{width:4px;height:50px}',""])},314:function(t,o,e){"use strict";e.r(o);e(17),e(15),e(10),e(9),e(13),e(19);var n,r=e(2),l=e(0),c=e(7),d=e(1),v=e(3),f=e(33);function k(object,t){var o=Object.keys(object);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(object);t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),o.push.apply(o,e)}return o}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(source,!0).forEach(function(o){Object(l.a)(t,o,source[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(source).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(source,o))})}return t}var h,y={data:function(){return{editBookName:"",showModal:!1,curId:"",isPrivate:0,originData:""}},computed:m({},Object(c.e)({catalogs:function(t){return t.catalogs.list},catalogMapNotes:function(t){return t.catalogs.catalogMapNotes},curBook:function(t){return t.books.curBook}}),{},Object(c.c)("user",["isVisitor","githubName"]),{dirList:function(){return this.catalogs&&this.catalogs[this.curBook]?this.catalogs[this.curBook].childNodes:[]},fileList:function(){return this.catalogMapNotes&&this.catalogMapNotes[this.curBook]?this.catalogMapNotes[this.curBook]:[]}}),methods:m({},Object(c.d)("books",[d.BOOK_CUR_UPDATE]),{},Object(c.b)("catalogs",[v.CATALOGS_GET]),(n={init:(h=Object(r.a)(regeneratorRuntime.mark(function t(){var o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$showLoading(),t.next=3,this[v.CATALOGS_GET]({getChild:!1});case 3:(o=t.sent).err&&this.$toast({title:o.err.message}),this.$hideLoading();case 6:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)}),dealParams:function(){var t=$nuxt._route.params,o=(t.user,t.book);this[d.BOOK_CUR_UPDATE](o),this.init()},gotoCatalog:function(t){this.$router.push("/".concat(this.githubName,"/").concat(t.fullPath,"?type=dir"))},gotoFile:function(t){this.$router.push("/".concat(this.githubName,"/").concat(Object(f.e)(t.fullPath)))},todoDeleteBook:function(t){console.log("todoDeleteBook",t)},todoEditBook:function(t){console.log("todoEditBook",t)},todoAddBook:function(t){console.log("todoAddBook",t)},doCloseModal:function(t){console.log("doCloseModal",t)}},Object(l.a)(n,"doCloseModal",function(t){console.log("doCloseModal",t)}),Object(l.a)(n,"doSaveBook",function(t){console.log("doSaveBook",t)}),n)),mounted:function(){this.dealParams()}},C=(e(308),e(8)),component=Object(C.a)(y,function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("div",{staticClass:"book-list-layout"},[t._l(t.dirList,function(o,n){return e("div",{key:o.sha,staticClass:"book-item-layout",on:{click:function(e){return e.stopPropagation(),t.gotoCatalog(o)}}},["default"!==o._id?e("div",{staticClass:"delete-icon book-item-delete",on:{click:function(e){return e.stopPropagation(),t.todoDeleteBook(o)}}}):t._e(),t._v(" "),e("div",[e("svg",{staticClass:"icon book-iconfont",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-wenjianjia1"}})])]),t._v("\n      "+t._s(o.name)+"(文件)\n      "),e("div",{staticClass:"book-item-layout-edit"},[e("div",{staticClass:"book-item-layout-in-edit",on:{click:function(e){return e.stopPropagation(),t.todoEditBook(o)}}},[t._v("编辑")])])])}),t._v(" "),t._l(t.fileList,function(o,n){return e("div",{key:o.sha,staticClass:"book-item-layout",on:{click:function(e){return e.stopPropagation(),t.gotoFile(o)}}},["default"!==o._id?e("div",{staticClass:"delete-icon book-item-delete",on:{click:function(e){return e.stopPropagation(),t.todoDeleteBook(o)}}}):t._e(),t._v(" "),e("div",[e("svg",{staticClass:"icon book-iconfont",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-wenjianjia1"}})])]),t._v("\n      "+t._s(o.name)+"\n      "),e("div",{staticClass:"book-item-layout-edit"},[e("div",{staticClass:"book-item-layout-in-edit",on:{click:function(e){return e.stopPropagation(),t.todoEditBook(o)}}},[t._v("编辑")])])])}),t._v(" "),e("div",{staticClass:"book-item-layout",staticStyle:{"padding-top":"25px"}},[e("div",{staticClass:"book-item-layout-add",on:{click:t.todoAddBook}}),t._v(" "),e("div",[e("svg",{staticClass:"icon book-iconfont",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-wenjianjia1"}})])])])],2),t._v(" "),t.showModal?e("div",{staticClass:"modal-mark-bg"},[e("div",{staticClass:"modal-layout"},[e("div",{staticClass:"modal-title"},[t._v(t._s(t.curId?"编辑":"添加")+" "),e("div",{staticClass:"modal-title-close",on:{click:t.doCloseModal}})]),t._v(" "),e("div",{staticClass:"form-bg bg-fff"},[e("div",{staticClass:"form-layout"},[e("div",{staticClass:"form-group flex"},[e("div",{staticClass:"form-label-layout"},[t._v("\n              名称：\n            ")]),t._v(" "),e("div",{staticClass:"flex flex-1 align-items-center"},[e("input",{directives:[{name:"model",rawName:"v-model.strim",value:t.editBookName,expression:"editBookName",modifiers:{strim:!0}}],staticClass:"form-input",domProps:{value:t.editBookName},on:{input:function(o){o.target.composing||(t.editBookName=o.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form-group flex"},[e("div",{staticClass:"form-label-layout"},[t._v("\n              公开：\n            ")]),t._v(" "),e("div",{staticClass:"flex flex-1 align-items-center"},[e("div",{staticClass:"switch-layout",class:{act:t.isPrivate}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isPrivate,expression:"isPrivate"}],staticClass:"form-radio",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isPrivate)?t._i(t.isPrivate,null)>-1:t.isPrivate},on:{change:function(o){var e=t.isPrivate,n=o.target,r=!!n.checked;if(Array.isArray(e)){var l=t._i(e,null);n.checked?l<0&&(t.isPrivate=e.concat([null])):l>-1&&(t.isPrivate=e.slice(0,l).concat(e.slice(l+1)))}else t.isPrivate=r}}})])])])])]),t._v(" "),e("div",{staticClass:"modal-operate"},[e("div",{staticClass:"btn",class:{"disable-btn":t.disableBtn},on:{click:t.doSaveBook}},[t._v("确定")]),t._v(" "),e("div",{staticClass:"btn second-btn",on:{click:t.doCloseModal}},[t._v("取消")])])])]):t._e()])},[],!1,null,"417054e4",null);o.default=component.exports}}]);